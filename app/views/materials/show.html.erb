<div class="flex flex-col items-center w-full mb-30px">
  <h3 class="text-28px font-bold mt-30px mb-30px"><%= t('.title') %></h3>
  <div class="flex flex-col", style: "width: 800px;" >
    <div class="flex flex-row border-2 border-gray rounded-md w-800px p-15px">
      <div class="flex flex-row w-full">
        <!-- 教材画像 -->
        <%= image_tag @material.image_link, style: "width: 100px; max-width: 100px; height: 150px;" %>
        <div class="flex flex-col w-full">
          <div class="ml-15px">
            <!-- タイトル -->
            <div class="font-bold text-xl mb-5px">
              <%= link_to truncate(@material.title, length: 28), material_path(@material) %>
            </div>
            <!-- 公開日 -->
            <% if @material.published_date.present? %>
              <%= @material.published_date %>
            <% else %>
              <p>公開日不明</p>
            <% end %>
            <!-- 教材評価 -->
            <div class="mt-5px flex flex-row items-center">
              <i class="fa-solid fa-star" style="color: #FFD43B;"></i>
              <div class="ml-5px"><%= @average_evaluation %></div>
              <div class="ml-5px">(<%= @count_of_unique_evaluators %>)</div>
            </div>
            <!-- 教材特徴 -->
            <% @feature_counts.each do |feature, data| %>
              <div class="flex flex-row items-center my-10px" style="width: 200px;">
                <div class="bg-dark-gray text-white text-xs font-semibold px-2.5 py-0.5 rounded">
                  <%= feature %>
                </div>
                <div class="ml-5px flex ml-auto"><%= data[:percentage] %>%</div>
              </div>
            <% end %>
          </div>
        </div>
        <!-- 編集及び削除アイコン -->
        <% if @material.material_evaluations.exists?(user_id: current_user.id)  %>
          <div class="ml-auto flex flex-row justify-end mb-5px">
            <%= link_to edit_material_path(@material), class:'flex justify-center items-center bg-thin-orange hover:bg-pale-orange h-7 w-7 rounded-full mr-10px' do %>
              <i class="fa-sharp fa-solid fa-pencil fa-lg"></i>
            <% end %>
            <%= link_to material_path(@material), class:'flex justify-center items-center bg-pale-pink hover:bg-dark-pink h-7 w-7 rounded-full', data: { turbo_method: :delete } do %>
              <i class="fa-solid fa-trash"></i>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>